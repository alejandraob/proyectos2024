<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapsodia Artesanias - Contacto</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap"
        rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@300..700&display=swap" rel="stylesheet">

    <link rel="preload" href="styles/normalize.css" as="style">
    <link rel="stylesheet" href="styles/normalize.css">
    <link rel="preload" href="styles/styles.css" as="style">
    <!--esto cargara más rápido la hoja de estilo y luego la ejecutará-->
    <link rel="stylesheet" href="styles/styles.css">
    <script src="js/newUser.js" defer></script>
</head>

<body>
    <header class="header">
        <div class="contenedor-nav">
            <div class="barra">
                <nav class="navegacion">
                    <img src="img/icons/icon_menu.svg" alt="menu" class="menu">
                    <div class="navegacion-izquierda">
                        <a href="index.html"> <img src="img/logos/logosm.jpg" alt="logo" class="logo"></a> 

                        <ul>
                            <li><a href="catalogo.html" class="navegacion__enlace">Catalogo</a></li>
                            <li><a href="nosotros.html" class="navegacion__enlace">Nosotros</a></li>
                        </ul>

                    </div>
                    <div class="navegacion-derecha">
                        <ul>
                            <li><a class="navegacion__enlace miCuenta">Mi Cuenta</a></li>
                            <li class="nav-compra-carrito"><img src="img/icons/shopping-cart_9408015.png" alt="carrito">
                                <div><span id="cart-count">0</span></div>
                            </li>
                        </ul>

                    </div>
                    <!--MENU DESPLEGABLE CUANDO LA PANTALLA ES CHICA-->
                    <div class="menu-chico inactive">

                        <div class="menu-chico__contenido">
                            <ul>
                                <li><a href="catalogo.html" class="navegacion__enlace">Catalogo</a></li>
                                <li><a href="nosotros.html" class="navegacion__enlace">Nosotros</a></li>
                            </ul>
                            <ul>
                                <li><a href="edit_usuario.html" id="editLink" class="navegacion__enlace mi_cuenta">Editar Mis Datos</a></li>
                                <li><a href="/" class="navegacion__enlace mi_compra">Mi Carrito</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="menu-cuenta inactive">
                        <ul>
                            <li><a href="edit_usuario.html" id="editLink">Editar Mis Datos</a></li>
                            <li><a href="/">Mis Compras</a></li>
                            <li><a href="login.html">Cerrar Sesión</a></li>
                        </ul>
                    </div>
                </nav>
                <!--lista de compra carrito-->
                <aside class="producto-detail inactive">
                    <div class="title-contenido">
                        <img src="img/icons/arrow.png" alt="arrow">
                        <p class="title">Mi Carrito</p>
                    </div>
                    <div class="mi-orden-contenido"></div>
            </div>
            </aside>

        </div><!--cierra barra-->
        </div><!--cierra contenedor-->
    </header><!--cierra header-->
    <section class="hero">
        <div class="contenido-hero">
            <h2>Rapsodia <span class="hero-span">Artesanias</span></h2>
            <div class="ubicacion">

                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-map-pin" width="68"
                    height="68" viewBox="0 0 24 24" stroke-width="1.5" stroke="#FFD166" fill="none"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" />
                    <path d="M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z" />
                </svg>

                <p>Catriel - Rio Negro - Argentina</p>
            </div>
            <a class="boton-secundario" href="contactar.html">Contactar</a>
        </div>
    </section>
    <!--<img src="img/hero.jpg" alt="Hero image">-->

    <main>
        <div class="contenedor dos-columnas">
            <article class="entrada-blog">
                <img src="img/usuario.png" class="img__registro-Usuario">
                <p>Crea un usuario para poder realizar tus compras y recibir notificaciones de promociones!
                </p>

            </article>
            <form class="formulario__edit-Usuario" id="formEditUsuario" onsubmit="editarCuenta(event)">
                <div class="campo">
                    <label class="campo__label" for="nombre">Nombre</label>
                    <input type="text" id="nombre" placeholder="Tu nombre" class="campo__field" required>
                    <span class="error-message"></span>
                </div>
                <div class="campo">
                    <label class="campo__label" for="email">E-mail</label>
                    <input type="email" id="email" placeholder="Tu mail" class="campo__field" required>
                    <span class="error-message"></span>
                </div>
                <div class="campo">
                    <label class="campo__label" for="pass">Contraseña</label>
                    <input type="password" id="pass" class="campo__field" required>
                    <span class="error-message"></span>
                </div>
                <div class="campo">
                    <label class="campo__label" for="telefono">Teléfono</label>
                    <input type="tel" id="telefono" placeholder="Tu Teléfono" class="campo__field" required>
                    <span class="error-message"></span>
                </div>
                <div class="direccion">
                    <div class="campo">
                        <label class="campo__label dir-label" for="direccion">Dirección</label>
                        <input type="text" id="direccion" placeholder="dirección" class="campo__field" required>
                        <span class="error-message"></span>
                    </div>
                    <div class="campo">
                        <label class="campo__label dir-label" for="piso">Piso</label>
                        <input type="text" id="piso" class="campo__field">
                    </div>
                    <div class="campo">
                        <label class="campo__label dir-label" for="cp">CP</label>
                        <input type="text" id="cp" class="campo__field" required>
                        <span class="error-message"></span>
                    </div>
                    <div class="campo">
                        <label class="campo__label dir-label" for="provincia">Provincia</label>
                        <input type="text" id="provincia" class="campo__field" required>
                        <span class="error-message"></span>
                    </div>
                </div>
                <div class="campo">
                    <label class="campo__label" for="pais">País</label>
                    <input type="text" id="pais" class="campo__field" required>
                    <span class="error-message"></span>
                </div>
                <div class="campo">
                    <input type="submit" value="Editar" id="btnEditar" class="btn-form boton-secundario">
                    <input type="submit" value="Eliminar" class="btn-form btndelete boton-secundario" onclick="eliminarCuenta(event)">
                
                </div>
            </form>
        </div>


    </main>






    <footer class="footer">
        <p>Rapsodia Artesanias</p>
    </footer>
    <script>
       document.addEventListener("DOMContentLoaded", rellenarFormulario);

function rellenarFormulario() {
    const usuario = JSON.parse(sessionStorage.getItem('usuario'));
    if (usuario) {
        document.getElementById("nombre").value = usuario.nombre;
        document.getElementById("email").value = usuario.email;
        document.getElementById("pass").value = usuario.password;
        document.getElementById("telefono").value = usuario.telefono;
        document.getElementById("direccion").value = usuario.direccion;
        document.getElementById("piso").value = usuario.piso;
        document.getElementById("cp").value = usuario.cp;
        document.getElementById("provincia").value = usuario.provincia;
        document.getElementById("pais").value = usuario.pais;
    }
}

function editarCuenta(event) {
    event.preventDefault(); // Prevenir el comportamiento predeterminado del formulario

    var nombre = document.getElementById("nombre").value;
    var email = document.getElementById("email").value;
    var password = document.getElementById("pass").value;
    var telefono = document.getElementById("telefono").value;
    var direccion = document.getElementById("direccion").value;
    var piso = document.getElementById("piso").value;
    var cp = document.getElementById("cp").value;
    var provincia = document.getElementById("provincia").value;
    var pais = document.getElementById("pais").value;

    var usuarioEditado = {
        nombre: nombre,
        email: email,
        password: password,
        telefono: telefono,
        direccion: direccion,
        piso: piso,
        cp: cp,
        provincia: provincia,
        pais: pais
    };

    // Actualizar los datos del usuario en el array (si es necesario)
    sessionStorage.setItem('usuario', JSON.stringify(usuarioEditado));

    console.log("Usuario actualizado:", usuarioEditado);
}

function eliminarCuenta(event) {
    event.preventDefault(); // Prevenir el comportamiento predeterminado del formulario

    var email = document.getElementById("email").value;
    var index = correosRegistrados.indexOf(email);
    if (index > -1) {
        correosRegistrados.splice(index, 1);
        console.log("Usuario eliminado:", email);
    }
}

    </script>
    <script src="js/scriptsMenu.js"></script>
    <script src="js/contacto.js"></script>
    <script src="js/catalogo.js"></script>

</body>

</html>